# Thumbnail Generator Pipeline
# Create multiple thumbnail sizes with rounded corners
name: thumbnail-generator
steps:
  # Generate product-style image
  - kind: generate
    generator: openai
    params:
      prompt: "Sleek wireless earbuds on minimal white surface, soft shadows, product photography style"
      size: "1024x1024"
      quality: hd
    out: product

  # Large thumbnail (400x400) with rounded corners
  - kind: transform
    op: resize
    in: product
    params:
      width: 400
      height: 400
      fit: cover
    out: large
  - kind: transform
    op: roundCorners
    in: large
    params:
      radius: 24
    out: large_rounded
  - kind: save
    in: large_rounded
    destination: ./output/thumb-400.png

  # Medium thumbnail (200x200)
  - kind: transform
    op: resize
    in: product
    params:
      width: 200
      height: 200
      fit: cover
    out: medium
  - kind: transform
    op: roundCorners
    in: medium
    params:
      radius: 16
    out: medium_rounded
  - kind: save
    in: medium_rounded
    destination: ./output/thumb-200.png

  # Small thumbnail (100x100) with sharpen
  - kind: transform
    op: resize
    in: product
    params:
      width: 100
      height: 100
      fit: cover
    out: small
  - kind: transform
    op: roundCorners
    in: small
    params:
      radius: 12
    out: small_rounded
  - kind: transform
    op: sharpen
    in: small_rounded
    params:
      sigma: 0.5
    out: small_sharp
  - kind: save
    in: small_sharp
    destination: ./output/thumb-100.png
